module Anthropic
  module Models
    type server_tool_use_block =
      {
        id: String,
        caller_: Anthropic::Models::ServerToolUseBlock::caller_,
        input: ::Hash[Symbol, top],
        name: Anthropic::Models::ServerToolUseBlock::name_,
        type: :server_tool_use
      }

    class ServerToolUseBlock < Anthropic::Internal::Type::BaseModel
      attr_accessor id: String

      attr_accessor caller_: Anthropic::Models::ServerToolUseBlock::caller_

      attr_accessor input: ::Hash[Symbol, top]

      attr_accessor name: Anthropic::Models::ServerToolUseBlock::name_

      attr_accessor type: :server_tool_use

      def initialize: (
        id: String,
        caller_: Anthropic::Models::ServerToolUseBlock::caller_,
        input: ::Hash[Symbol, top],
        name: Anthropic::Models::ServerToolUseBlock::name_,
        ?type: :server_tool_use
      ) -> void

      def to_hash: -> {
        id: String,
        caller_: Anthropic::Models::ServerToolUseBlock::caller_,
        input: ::Hash[Symbol, top],
        name: Anthropic::Models::ServerToolUseBlock::name_,
        type: :server_tool_use
      }

      type caller_ =
        Anthropic::DirectCaller
        | Anthropic::ServerToolCaller
        | Anthropic::ServerToolUseBlock::Caller::CodeExecution20260120

      module Caller
        extend Anthropic::Internal::Type::Union

        type code_execution20260120 =
          { tool_id: String, type: :code_execution_20260120 }

        class CodeExecution20260120 < Anthropic::Internal::Type::BaseModel
          attr_accessor tool_id: String

          attr_accessor type: :code_execution_20260120

          def initialize: (
            tool_id: String,
            ?type: :code_execution_20260120
          ) -> void

          def to_hash: -> { tool_id: String, type: :code_execution_20260120 }
        end

        def self?.variants: -> ::Array[Anthropic::Models::ServerToolUseBlock::caller_]
      end

      type name_ =
        :web_search
        | :web_fetch
        | :code_execution
        | :bash_code_execution
        | :text_editor_code_execution
        | :tool_search_tool_regex
        | :tool_search_tool_bm25

      module Name
        extend Anthropic::Internal::Type::Enum

        WEB_SEARCH: :web_search
        WEB_FETCH: :web_fetch
        CODE_EXECUTION: :code_execution
        BASH_CODE_EXECUTION: :bash_code_execution
        TEXT_EDITOR_CODE_EXECUTION: :text_editor_code_execution
        TOOL_SEARCH_TOOL_REGEX: :tool_search_tool_regex
        TOOL_SEARCH_TOOL_BM25: :tool_search_tool_bm25

        def self?.values: -> ::Array[Anthropic::Models::ServerToolUseBlock::name_]
      end
    end
  end
end
